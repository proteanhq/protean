"""Example projection for read models."""

from datetime import datetime

from protean.fields import DateTime, Identifier, Integer, String

from {{ package_name }}.domain import {{ domain_name }}


@{{ domain_name }}.projection
class ExampleSummary:
    """Read-optimized projection of Example aggregates."""

    example_id = Identifier(required=True)
    name = String(required=True, max_length=100)
    status = String(required=True)
    created_at = DateTime(required=True)
    updated_at = DateTime(required=True)

    # Computed/denormalized fields for fast querying
    days_since_creation = Integer()
    is_active = Integer()  # 1 or 0 for efficient filtering

    class Meta:
        # Customize projection behavior
        stream_name = "example"